<link rel="import" href="../polymer/polymer-element.html">
<link rel="import" href="../paper-input/paper-input.html">
<link rel="import" href="../paper-button/paper-button.html">

<dom-module id="login-component">
  <template>
    <style>
      :host {
        display: block;
        --paper-input-container-focus-color: green;
      }

      paper-button {
        background-color: #0288D1;
        color: white;
      }

      button{
        border:0px;
        text-decoration: none;
        background-color: transparent;
      }

      button:hover {
        cursor: pointer;
        color: #0288D1;
      }

      .hidden {
        display: none;
      }
    </style>

    <div id="Form" hidden="{{hiddenLogin}}">
      <h2>Iniciar sesión</h2>
      <p>¿Aún no tienes una cuenta? Registrate<button on-click="changeFrom"><strong>aquí.</strong></button></p>
      <paper-input label="Nombre de usuario" value="{{login.username}}"></paper-input>
      <paper-input label="Contraseña" type="password" value="{{login.password}}"></paper-input>
      <paper-button on-tap="login">Inisiar sesión</paper-button>
    </div>
    
    <div id="Form" hidden="{{hiddenRegister}}">
      <h2>Registrate</h2>
      <p>¿Ya tienes cuenta con nosotros? Inicia sesión<button id="fireChange" on-click="changeFrom"><strong>aquí.</strong></button></p>
      <paper-input label="Nombre de usuario" value="{{register.username}}"></paper-input>
      <paper-input label="Nombre(s)" value="{{register.fistName}}"></paper-input>
      <paper-input label="Apellido(s)" value="{{register.lastName}}"></paper-input>
      <paper-input label="Contraseña" type="password" value="{{register.password}}"></paper-input>
      <paper-input label="Confirma tu contraseña" type="password" value="{{register.confirmPassword}}"></paper-input>
      <paper-button on-tap="register">Enviar Información</paper-button>
    </div>

  </template>

  <script>
    /**
     * `login-component`
     * a componen tu log in and register
     *
     * @customElement
     * @polymer
     * @demo demo/index.html
     */
    class LoginComponent extends Polymer.Element {
      static get is() { return 'login-component'; }
      static get properties() {
        return {
          login: {
            username: {
              type: String,
              value: ''
            },
            password: {
              type: String,
              value: ''
            }
          },
          register: {
            username: {
              type: String,
              value: ''
            },
            firstName: {
              type: String,
              value: ''
            },
            lastName: {
              type: String,
              value: ''
            },
            password: {
              type: String,
              value: ''
            },
            confirmPassword: {
              type: String,
              value: ''
            },
          },
          hiddenRegister: {
            type: Boolean,
            value: 'true'
          },
          hiddenLogin: {
            type: Boolean,
            value: ''
          }
        };
      }

      login(){
        if(this.login.username == 'jorgeme0996' && this.login.password == '123456'){
        alert('Bienvenido!');
        } else {
        alert('Contraseña o usuario incorrecto');
        }
      }

      register(){
        if(this.register.password == this.register.confirmPassword && this.register.password != ''){
          alert('Tu registro ha sido correcto!!')
        } else if (this.register.password == '') {
          alert('Ingresa una contraseña')
        } else {
          alert('Las contraseñas no coinciden. Por favor, intentalo de nuevo.')
        }
      }

      changeFrom(){
        this.hiddenRegister = !this.hiddenRegister;
        this.hiddenLogin = !this.hiddenLogin;
      }
    }

    window.customElements.define(LoginComponent.is, LoginComponent);
  </script>
</dom-module>
